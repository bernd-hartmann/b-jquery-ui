<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="stylesheet" href="b-jquery-ui.css">
<link rel="stylesheet" href="../../node_modules/jquery-ui/themes/smoothness/jquery-ui.min.css">
<script src="../../node_modules/jquery/dist/jquery.min.js"></script>
<script src="../../node_modules/jquery-ui/custom.js"></script>
<script src="./b-jquery-ui.js"></script>

<dom-module id="b-jquery-ui">

  <template>
    <div class="b-jquery-ui-wrapper">
      <div id="jqueryUiPlaceholder">
        <content></content><!-- pass through content-->
      </div>
    </div>
  </template>

  <script>
    var bJqueryUI = new BJQueryUI();

    Polymer({
      is: 'b-jquery-ui',
      properties: {
        name: {
          type: String,
          value: ""
        },
        options: {
          type: Object,
          value: undefined
        },
        id: {
          type: String,
          value: ""// create unique id if not given, polymer properties computed: 'computeFullName(first, last)'
        },
        on: {
          type: String,
          value:""// no default value
        }
      },
      created: function() {

      },
      ready: function () {
        var $widget = bJqueryUI.createWidget(this.name, this.options, this.id);
        bJqueryUI.attachEventHandlers($widget, this._getAttributes());
      },

      // TODO: search for better solution to get root node
      _getRootNode(){
        return $(this.parentNode).find("#"+this.id);
      },

      _getAttributes(){
        return this._getRootNode()[0].attributes;
      }
    });
  </script>
  <style>

  </style>

</dom-module>